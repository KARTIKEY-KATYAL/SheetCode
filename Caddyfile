{
    auto_https off
    admin off
}

159.65.146.33:80 {
    reverse_proxy backend:8080
    
    header Access-Control-Allow-Origin "https://sheetcode.in"
    header Access-Control-Allow-Origin "https://www.sheetcode.in"
    header Access-Control-Allow-Credentials "true"
    header Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    header Access-Control-Allow-Headers "Content-Type, Authorization, Cookie"
    
    @options method OPTIONS
    respond @options 204
}

159.65.146.33:443 {
    tls /etc/caddy/ssl/server.crt /etc/caddy/ssl/server.key
    
    reverse_proxy backend:8080
    
    header Access-Control-Allow-Origin "https://sheetcode.in"
    header Access-Control-Allow-Origin "https://www.sheetcode.in"
    header Access-Control-Allow-Credentials "true"
    header Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    header Access-Control-Allow-Headers "Content-Type, Authorization, Cookie"
    
    @options method OPTIONS
    respond @options 204
}